<!DOCTYPE html>
<html lang="en">
<head>
  <title>SPARQL Visualisation</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/font-awesome.css">
  <link rel="stylesheet" href="css/BootSideMenu.css">
  <link rel="stylesheet" href="css/style.css">

  <script src="js/jquery-3.2.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/BootSideMenu.js"></script>

</head>
<body>

<div class="container-fluid">
  <header>
    <h1>SPARQL Visualisation Application</h1>
  </header>  
  
  <div class="row">

    <div class="col-sm-5">  
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3>Query Details</h3>
        </div>
        <div class="panel-body">

          <div class="row" style="outline: 1px ;outline-style: none; ">
            <div class="col-sm-2">
              <p>
                <label>Id:</label>
                <em>Nummer 1</em>
              </p>             
            </div>
            <div class="col-sm-4">
              <p>
                <label>Date:</label>
                <span>Sunday, 07-Jan-18 10:59:36</span>
              </p>             
            </div>
            <div class="col-sm-4">
              <p>
                <label>Status:</label>
                <span class="label label-success">Success</span>
              </p>             
            </div>                           
          </div>

          <div class="row" style="outline: 1px ;outline-style: none; ">
            <div class="col-sm-12">
              <p>
                <label>Client:</label>
                <span>Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:57.0) Gecko/20100101 Firefox/57.0</span>
              </p>             
            </div>                                       
          </div>

          <div class="row" style="background-color: #f5f5f5">

            <div class="col-sm-12">

              <h4>SPARQL Query</h4>

              <div class="row" >

                <div class="col-sm-12" >

                  <button type="button" class="btn btn-block" data-toggle="collapse" data-target="#prefixes" style="text-align: left; background-color: #c4c4c4;">PREFIX Region <span class="caret"></span></button>
                  <div id="prefixes" class="collapse">
                    <p id="coreQueryPrefixes" style="white-space: pre; overflow-x: auto;background-color: #e5e5e5;">
                      Hier Query Prefixes mit formated text
                    </p>
                  </div>

                </div>
                
              </div>
          
              <div class="row" >

                <div class="col-sm-12" style="" >                  
                  <p id="coreQuery" style="white-space: pre; overflow-x: auto;background-color: #e5e5e5;">
                    Hier coreQuery mit formated text
                  </p>            
                </div>
              </div>

              <div class="row" >
                
                <div class="col-sm-6" >                 
                       
                </div>
                <div class="col-sm-6" >                  
                  <button class="btn button-grey">edit & execute again</button>
                  <button class="btn button-grey" style="background-color: #c4c4c4;">copy query to clipboard</button>     
                </div>
              </div>

            </div>            
            
          </div>          
          
        </div>
      </div>
    </div>

    <div class="col-sm-7">
       
      <div class="panel panel-default">

        <div class="panel-heading">
          <h3>Query Graph <button class="btn button-grey" id="toggleLegend">Toggle Legend</button></h3>          
        </div>

        <div class="panel-body">
          <div class="row">
            <img src="testQuery1Viz.png" style=" max-width: 100%; height: auto; width: auto;" alt="TestQuery">
          </div>
        </div>
      </div>
    </div>

    <div id="legend"> 
       
      <div class="panel panel-default">

        <div class="panel-heading">
          <h3>Legend</h3>          
        </div>

        <div class="panel-body">
          <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">Colored Arrows</div>
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <p>
                        Colored Arrows indicate triples used in this query. The colors encode different parts of the query, that this triple showed up.
                    </p>
                    <table>
                        <tbody>
                            <tr>
                                <td style="width: 75px;">
                                    <svg width="50px" height="10px">
                                        <g class="edge">
                                            <path d="M0 5 L50 5"></path>
                                            <g transform="translate(50, 5)">
                                                <polygon points="0,0,12,5,12,-5" transform="rotate(180)" class="arrow-top"></polygon>
                                            </g>
                                        </g>
                                    </svg>
                                </td>
                                <td>
                                    Regular triple with no special meaning. It was part of the <strong>WHERE</strong>-clause
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <svg width="50px" height="10px">
                                        <g class="edge insert">
                                            <path d="M0 5 L50 5"></path>
                                            <g transform="translate(50, 5)">
                                                <polygon points="0,0,12,5,12,-5" transform="rotate(180)" class="arrow-top"></polygon>
                                            </g>
                                        </g>
                                    </svg>
                                </td>
                                <td>
                                    This triple was <strong>inserted</strong> with this query
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <svg width="50px" height="10px">
                                        <g class="edge delete">
                                            <path d="M0 5 L50 5"></path>
                                            <g transform="translate(50, 5)">
                                                <polygon points="0,0,12,5,12,-5" transform="rotate(180)" class="arrow-top"></polygon>
                                            </g>
                                        </g>
                                    </svg>
                                </td>
                                <td>
                                    This triple was <strong>deleted</strong> with this query
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <svg width="50px" height="10px">
                                        <g class="edge minus">
                                            <path d="M0 5 L50 5"></path>
                                            <g transform="translate(50, 5)">
                                                <polygon points="0,0,12,5,12,-5" transform="rotate(180)" class="arrow-top"></polygon>
                                            </g>
                                        </g>
                                    </svg>
                                </td>
                                <td>
                                    This triple is part of a <strong>MINUS</strong>-statement
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <svg width="50px" height="10px">
                                        <g class="edge construct">
                                            <path d="M0 5 L50 5"></path>
                                            <g transform="translate(50, 5)">
                                                <polygon points="0,0,12,5,12,-5" transform="rotate(180)" class="arrow-top"></polygon>
                                            </g>
                                        </g>
                                    </svg>
                                </td>
                                <td>
                                    This triple is part of a <strong>CONSTRUCT</strong>-statement
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <svg width="50px" height="10px">
                                        <g class="edge optional">
                                            <path d="M0 5 L50 5"></path>
                                            <g transform="translate(50, 5)">
                                                <polygon points="0,0,12,5,12,-5" transform="rotate(180)" class="arrow-top"></polygon>
                                            </g>
                                        </g>
                                    </svg>
                                </td>
                                <td>
                                    This triple is part of an <strong>OPTIONAL</strong>-statement
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- /.panel-body -->
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">Ellipses</div>
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <p>
                        Ellipses indicate Subjects and Predicates of a query.<br>
                        Ellipses can be dragged around with the mouse.
                    </p>
                    <table>
                        <tbody>
                            <tr>
                                <td style="width: 75px;">
                                    <svg width="50px" height="30px">
                                        <g class="node">
                                            <ellipse rx="24" ry="14" cx="25" cy="15"></ellipse>
                                        </g>
                                    </svg>
                                </td>
                                <td>
                                    Regular subject/predicate with no special meaning.
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 75px;">
                                    <svg width="50px" height="30px">
                                        <g class="node select">
                                            <ellipse rx="24" ry="14" cx="25" cy="15"></ellipse>
                                        </g>
                                    </svg>
                                </td>
                                <td>
                                    This subject/predicate was part of a <strong>SELECT</strong>-statement.
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- /.panel-body -->
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">Symbols</div>
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <p>
                        Symbols in the graph represent different special statements of the query that a subject/object was part of.
                        By hovering the icon, you can see all subjects, predicates and objects that were part of this statement.<br>
                        Please note that the symbols are only shown, when at least one subject/object were part of the statement.
                        If only predicates were part of a statement, you can highlight them by hovering the statement in the sidebar.
                    </p>
                    <table>
                        <tbody>
                            <tr>
                                <td style="width: 75px;">
                                    <svg width="26px" height="24px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <image height="24" xlink:href="./img/glyphicons/glyphicons-692-tree-structure.png" width="26"></image>
                                    </svg>
                                </td>
                                <td>
                                    <strong>GRAPH</strong>-statement.
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <svg width="26px" height="24px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <image height="24" xlink:href="./img/glyphicons/glyphicons-321-filter.png" width="20"></image>
                                    </svg>
                                </td>
                                <td>
                                    <strong>FILTER</strong>-statement.
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <svg width="26px" height="24px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <image height="24" xlink:href="./img/glyphicons/glyphicons-51-link.png" width="20"></image>
                                    </svg>
                                </td>
                                <td>
                                    <strong>BIND</strong>-statement.
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <svg width="26px" height="24px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <image height="23" xlink:href="./img/glyphicons/glyphicons-404-sorting.png" width="24"></image>
                                    </svg>
                                </td>
                                <td>
                                    <strong>ORDER</strong>-statement.
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <svg width="26px" height="26px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <image height="26" xlink:href="./img/glyphicons/glyphicons-197-exclamation-sign.png" width="26"></image>
                                    </svg>
                                </td>
                                <td>
                                    <strong>SERVICE</strong>-statement.
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->          
        <!-- /.col-lg-8 -->
        <!-- /.row -->
    </div>  
        </div>
    
        <div class="panel-footer">
            
        </div>

      </div>

  </div>

  </div>

  <footer class="navbar-fixed-bottom">
    <h6>TU Dresden Prozeesleittechnik</h6>
  </footer>
</body>
<script>

$(document).ready(function(){
	$("#coreQueryPrefixes").load("testPrefixes.txt");
  $("#coreQuery").load("testQuery1_withoutPrefixes.txt"); 
  $('#legend').BootSideMenu({
    side: "right",
    width: "600px",
    closeOnClick: false,
    icons:{
          left:'fa fa-arrow-left',
          right:'fa fa-arrow-right'            
          }
  });
  $('#toggleLegend').click(function () {
          $('#legend').BootSideMenu.toggle();
  }); 
});

 

</script>
</html> 